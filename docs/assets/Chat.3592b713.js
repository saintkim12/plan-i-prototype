import{b as c}from"./vendor.3dc33d0f.js";import{d as x}from"./hangul-search-js.3f36a4c6.js";import{j as m,a as s}from"./index.7007bcb8.js";const w=x.createSearch(["\uC77C\uC815\uD655\uC778","\uC77C\uC815\uBCC0\uACBD"]);function y(){const o="me",d="system",[a,g]=c.exports.useState("hello"),[h,f]=c.exports.useState([{timestamp:Date.now(),sender:"me",msg:"hello"},{timestamp:Date.now()-1e3,sender:d,msg:"hello"}]),i=c.exports.useRef(null),l=async(e,t)=>{var n;if(!e)return;const r={timestamp:Date.now(),sender:t,msg:e};return f(u=>[...u,r]),t===o&&g(""),await new Promise(u=>window.setTimeout(u,10)),(n=i.current)==null||n.scrollTo({top:i.current.scrollHeight}),r},p=async e=>{if(!!e)return await new Promise(t=>window.setTimeout(t,1e3)),l(JSON.stringify(w(e.msg,{exact:!0,order:!0})),d)};return m("div",{className:"message-box",children:[s("div",{ref:i,style:{height:"70vh",overflowY:"auto"},children:h.map(({sender:e,msg:t,timestamp:r},n)=>m("p",{style:{border:"1px solid #ccc",borderRadius:"5px",padding:"5px",textAlign:e===o?"right":"left"},children:[t,s("span",{style:{color:"#aaa",fontSize:".5rem",marginLeft:"2px"},children:new Date(r).toISOString()})]},n))}),m("div",{style:{display:"flex",justifyContent:"space-between"},children:[s("textarea",{style:{flexGrow:1},rows:10,value:a,onChange:e=>g(e.target.value),onKeyDown:e=>e.key==="Enter"&&!e.ctrlKey&&(()=>{e.preventDefault(),l(a,o).then(p)})()}),s("button",{type:"button",onClick:()=>l(a,o).then(p),children:"\uBCF4\uB0B4\uAE30"})]})]})}function b(){return s("div",{children:s(y,{})})}export{b as default};
