var k=Object.defineProperty,L=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var x=(l,s,e)=>s in l?k(l,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[s]=e,a=(l,s)=>{for(var e in s||(s={}))b.call(s,e)&&x(l,e,s[e]);if(f)for(var e of f(s))N.call(s,e)&&x(l,e,s[e]);return l},c=(l,s)=>L(l,w(s));var C=(l,s)=>{var e={};for(var t in l)b.call(l,t)&&s.indexOf(t)<0&&(e[t]=l[t]);if(l!=null&&f)for(var t of f(l))s.indexOf(t)<0&&N.call(l,t)&&(e[t]=l[t]);return e};var v=(l,s,e)=>(x(l,typeof s!="symbol"?s+"":s,e),e);import{r as I}from"./vendor.99fbd8bd.js";import{s as y}from"./styled-components.c5e6daad.js";import{d as A}from"./distinct-colors.25c60bcb.js";import{ae as F}from"./fullcalendar.84397ccf.js";import{t as j}from"./@fullcalendar/timegrid.a20f6d36.js";import{j as n,F as D,b as r}from"./react-redux.d536aec5.js";import{f as G,b as R,G as $}from"./index.4816e40b.js";import"./@fullcalendar/daygrid.17582547.js";import"./@reduxjs/toolkit.411cf859.js";import"./luxon.c9b36ce7.js";import"./localforage.4f2affd0.js";/* empty css              */class E extends I.exports.Component{constructor(e){super(e);v(this,"fullCalendarRef");this.fullCalendarRef=I.exports.createRef()}render(){var o,m,d,p,h;const e=(m=(o=this.props)==null?void 0:o.eventList)!=null?m:[],t=(p=(d=this.props)==null?void 0:d.interviewInfo)==null?void 0:p.businessHours,i=c(a({plugins:[j],initialView:"timeGridWeek",height:"100%",locale:(h=this.props.locale)!=null?h:"en-US",headerToolbar:{left:"title",center:"",right:"prev,next today"}},t&&{businessHours:t}),{events:e});return n(F,a(a({ref:this.fullCalendarRef},i),this.props.option))}}const O=y.div`
  width: 100vw;
  height: 100vh;
`;class T extends I.exports.Component{constructor(e){super(e);v(this,"itemName","selectedList");const{itemName:t}=e;this.itemName=t!=null?t:this.itemName}toggleAllItems(e){console.log("checked",e),e?this.props.updateSelectedItem(this.props.itemList.map(({value:{calendarId:t}})=>t)):this.props.updateSelectedItem([])}toggleItem(e,t){console.log(e,t),t?this.props.updateSelectedItem(i=>[...i,e]):this.props.updateSelectedItem(i=>[...i].filter(o=>o!==e))}render(){const h=this.props,{itemList:e,selectedItem:t,updateSelectedItem:i}=h,o=C(h,["itemList","selectedItem","updateSelectedItem"]),m=this.itemName,d=this.toggleAllItems.bind(this),p=this.toggleItem.bind(this);return r("div",c(a({},o),{children:[r("label",{children:[n("input",{type:"checkbox",className:"checkbox",onChange:u=>d(u.target.checked)}),"\uBAA8\uB4E0 \uBA74\uC811 \uAC00\uB2A5 \uC77C\uC815 \uBCF4\uAE30"]}),n("div",{className:"ml-4",children:e.map(({text:u,value:{calendarId:g,color:S}})=>n("p",{children:r("label",{children:[n("input",{type:"checkbox",className:"checkbox",name:m,value:g,checked:t.includes(g),onChange:B=>p(g,B.target.checked)}),n("span",{className:"ml-1",style:{color:S},children:"\u25A0"}),n("span",{className:"ml-1",children:u})]})},g))})]}))}}const H=y(T)`
`;class _ extends I.exports.Component{constructor(s){var t;super(s);const e=(t=this.props.initSelected)!=null?t:[];this.state={itemList:G.flow(i=>[i,A({count:i.length}).map(o=>o.css())],([i,o])=>i.map((h,p)=>{var u=h,{value:m}=u,d=C(u,["value"]);return c(a({},d),{value:c(a({},m),{color:o[p]})})}))([{value:{username:"kiparseo@gmail.com",calendarId:"kiparseo@gmail.com",type:"google"},text:"kiparseo@gmail.com"},{value:{username:"saintkim1232@gmail.com",calendarId:"saintkim1232@gmail.com",type:"google"},text:"saintkim1232@gmail.com"}]),selectedItem:[...e],eventList:[],interviewInfo:{businessHours:{startTime:"09:00",endTime:"18:00"}}}}async updateSelectedItem(s){const e=typeof s=="function"?s(this.state.selectedItem):s;this.setState(i=>c(a({},i),{selectedItem:e}));const t=await Promise.allSettled([...this.state.itemList.filter(({value:i})=>e.includes(i.calendarId)&&(i==null?void 0:i.type)==="google").map(({value:{calendarId:i,color:o}})=>R(i,null,{color:o}))]).then(i=>i.filter(o=>o.status==="fulfilled").flatMap(o=>o.value));this.setState(i=>c(a({},i),{selectedItem:e,eventList:t}))}render(){const s=this.state.itemList,e=this.state.selectedItem,t=this.state.eventList,i=this.state.interviewInfo,o=this.updateSelectedItem.bind(this);return n(D,{children:n(O,{className:"container is-fluid pt-1",children:r("div",{className:"columns",style:{height:"inherit"},children:[r("div",{className:"column is-3",children:[r("div",{className:"pt-1",style:{marginTop:"40px"},children:[n("p",{className:"subtitle",children:"OOO's Calendar"}),n("div",{children:"\uBB50\uB77C\uBB50\uB77C"})]}),n(H,{itemList:s,selectedItem:e,updateSelectedItem:o})]}),r("div",{className:"column is-9",children:[r("div",{className:"is-flex is-justify-content-flex-end mb-1",style:{height:"calc(40px)"},children:[n($,{}),n("button",{className:"button is-normal",children:"\uC5F0\uB3D9"}),n("button",{className:"button is-normal",children:"\uC5F0\uB3D9"})]}),n("div",{style:{border:"1px solid #ddd",height:"calc(100% - 40px - 40px)",overflowY:"auto"},children:n(E,{locale:"ko-KR",option:{initialDate:"2022-04-26"},eventList:t,interviewInfo:i})}),n("div",{className:"is-flex is-justify-content-flex-end mt-1",style:{height:"calc(40px)"},children:n("button",{className:"button is-primary",children:"\uC81C\uCD9C\uD558\uAE30"})})]})]})})})}}export{_ as default};
